language: cpp
os: osx
osx_image: xcode9.2
script:
- mkdir build
- cd build/
- cmake -DCMAKE_BUILD_TYPE=Release ..
- make -j4
before_deploy:
- git config --global user.email "builds@travis-ci.com"
- git config --global user.name "Travis CI"
- cd ${TRAVIS_BUILD_DIR}/build/bin
- zip -r Vita3K-mac-nightly.zip Vita3K.app
deploy:
  provider: script
  overwrite: true
  skip_cleanup: true
  script: bash $TRAVIS_BUILD_DIR/deploy_mac_nightly.sh
  on:
    repo: Vita3K/Vita3K
    tags: false
